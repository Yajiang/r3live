<launch>
    <!-- Subscribed topics -->
    <param name="LiDAR_pointcloud_topic" type="string" value= "/laser_cloud_flat" />
    <param name="IMU_topic" type="string" value= "/livox/imu" />
    <param name="Image_topic" type="string" value= "camera/image_color" />
    <!-- <param name="Image_topic" type="string" value= "camera/color_image" /> -->
    <param name="r3live_common/map_output_dir" type="string" value="$(env HOME)/r3live_output" />
    <rosparam command="load" file="$(find revopoint_imu_fusion)/config/revopoint_config.yaml" />

    <node pkg="revopoint_imu_fusion" type="revopoint_pointcloud_handler" name="revopoint_pointcloud_handler"  output="screen" required="true"/>
    <!-- <node pkg="revopoint_imu_fusion" type="revopoint_mapping" name="revopoint_mapping" output="screen" required="true" /> -->
    
    <arg name="rviz" default="1" />
    <group if="$(arg rviz)">
        <node name="rvizvisualisation" pkg="rviz" type="rviz" output="log" args="-d $(find revopoint_imu_fusion)/config/revopoint_rviz_config.rviz" />
    </group>
</launch>
